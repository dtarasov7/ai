Дмитрий Тарасов, [30.09.2025 12:29]
Еще grok 4 - вроде неплохо

### Специфические требования к платформе оркестрации контейнеров на базе Kubernetes

Ниже приведены технические требования, которые должны быть включены в документацию для проведения конкурса на закупку платформы в соответствии с законодательством РФ (44-ФЗ/223-ФЗ). Эти требования фокусируются на уникальных характеристиках платформы, обеспечивающих автоматизированное управление жизненным циклом, модульность и работу в изолированных средах, без привязки к конкретным наименованиям продуктов.

#### 1. Управление жизненным циклом платформы
- Платформа должна управляться единым кластерным оператором, который одновременно контролирует ядро Kubernetes и все платформенные компоненты (сетевой стек, ingress, мониторинг, логирование, бэкап, политики доступа и т. п.).
- Должны поддерживаться каналы релизов и окна обновлений; предусмотрены механизмы поэтапного/канареечного раската и автоматического отката при неуспехе, с проверками здоровья зависимостей перед продвижением.
- Обновления и конфигурации должны применяться декларативно; возможна приостановка/возобновление раската, таргетирование на отдельные группы узлов.

#### 2. Декларативная модель и пользовательские ресурсы
- Конфигурация платформы должна задаваться через собственные пользовательские ресурсы Kubernetes (CRD), как минимум для:
  - управления релизами/версионированием платформы,
  - конфигурирования платформенных модулей,
  - описания групп узлов с политиками обслуживания.
- Все изменения конфигурации должны быть идемпотентными, с хранением в системе контроля версий (Git), в том числе для мультикластерных сценариев.

#### 3. Bootstrap и работа в изолированном контуре
- Должен быть предусмотрен штатный CLI-инструмент для автоматизированного bootstrap/восстановления кластера по единому декларативному YAML-описанию, с preflight-проверками и воспроизводимостью.
- Платформа должна обеспечивать полноценную работу в изолированном контуре (air-gapped): официальный механизм зеркалирования образов платформы и компонентов во внутренний реестр; поставка офлайн-бандлов; валидация подписи/хэшей; обновления без доступа в интернет.

#### 4. Управление узлами и ОС
- Должны поддерживаться декларативные «группы узлов» как объект платформы: разделение на системные/прикладные пулы, taints/labels, политики обновлений и допусков, автоматический ремонт «проблемных» узлов.
- Встроенное управление ОС узлов и kubelet: автоматизированная конфигурация, патчинг и апгрейд, привязка версий к каналу релизов платформы, исправление дрейфа конфигурации.

#### 5. Встроенная консоль управления
- Наличие веб-консоли платформы для:
  - управления каналами релизов и окнами обновлений,
  - контроля статусов раскатов и зависимостей,
  - обзора групп узлов и ключевых платформенных модулей,
  - ведения журнала операций платформы.

#### 6. Модульная поставка «из коробки»
- Платформа должна включать преднастроенный набор модулей (сеть, L7-ingress, наблюдаемость с метриками/алертингом/дашбордами, централизованное логирование, резервное копирование объектов и томов, единый вход/SSO, политики исполнения и соответствия, опционально сервис-меш, интеграция с DNS и балансировщик для bare-metal).
- Совместимость версий и зависимости модулей должны контролироваться тем же оператором; отклонения и конфликты предотвращаются на этапе раската.

#### 7. Мультикластер и профили
- Поддержка переиспользуемых профилей конфигурации для нескольких кластеров; независимые каналы релизов по средам (dev/stage/prod); контроль дрейфа между эталонной и фактической конфигурациями.

#### 8. Самонаблюдение платформы
- Встроенные SLI/SLO-метрики и алерты для компонентов платформы; обновления блокируются при деградации критичных показателей.

#### 9. Совместимость окружений
- Поддержка инсталляций как на «статической» инфраструктуре (bare-metal/виртуализация), так и в типовых частных облаках; наличие провайдер-модулей инфраструктуры; поддержка популярных LTS-дистрибутивов Linux для узлов.

Дмитрий Тарасов, [30.09.2025 12:29]
#### 10. Признаки для приемки (проверяемые характеристики)
- В кластере должны присутствовать пользовательские ресурсы Kubernetes для управления релизами платформы, конфигурацией модулей и группами узлов.
- Должен быть развернут единый оператор, обеспечивающий жизненный цикл как ядра, так и платформенных модулей.
- Доступна встроенная веб-консоль для управления релизами/окнами и мониторинга состояния платформы.
- Bootstrap/восстановление выполняются через CLI по декларативному YAML-описанию, поддерживается офлайн-обновление из внутреннего реестра с проверкой подписи/хэшей, а также канареечный раскат с автоматическим откатом.

Эти требования должны быть интегрированы в общую документацию конкурса (ТЗ, матрицу соответствия, критерии приемки) для обеспечения технологической нейтральности и соответствия нормам РФ. Участники обязаны подтвердить соответствие в матрице (с описанием реализации и ссылками на документацию).
