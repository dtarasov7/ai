# Технические требования к документации для конкурса на закупку платформы Kubernetes (с учетом возможностей Deckhouse)

## 1. Общие требования к платформе

### 1.1 Архитектура и компоненты
Платформа должна представлять собой комплексное решение для управления Kubernetes-кластерами, включающее:

- Сертифицированный дистрибутив Kubernetes с автоматическим управлением версиями
- Автоматизированную систему установки и управления кластерами через декларативную конфигурацию
- Встроенную систему управления инфраструктурой (Infrastructure as Code)
- Поддержку развертывания на bare metal серверах и виртуальных машинах
- Интеграцию с облачными провайдерами (Яндекс.Облако, VK Cloud, AWS, GCP, Azure)
- Автоматическое обновление компонентов платформы без простоев

### 1.2 Требования к производительности и масштабируемости
Платформа должна обеспечивать:

- Поддержку кластеров с количеством узлов от 1 до 5000
- Автоматическое управление узлами кластера (добавление/удаление)
- Автомасштабирование узлов на основе метрик использования ресурсов
- Поддержку гибридных и мультиоблачных конфигураций
- Автоматическое распределение нагрузки между узлами

## 2. Функциональные требования

### 2.1 Управление кластером и приложениями
Платформа должна предоставлять:

- Единую панель управления (веб-интерфейс) для всех компонентов
- Декларативное управление конфигурацией через GitOps
- Встроенный каталог готовых модулей и приложений
- Автоматическое обнаружение и конфигурирование оборудования
- Поддержку канареечных релизов (canary releases)
- Интеграцию с Helm и поддержку Helm charts

### 2.2 Сетевые возможности
Требования к сетевой подсистеме:

- Встроенный CNI-плагин с поддержкой сетевых политик
- Автоматическая настройка LoadBalancer для bare metal окружений (MetalLB или аналог)
- Встроенный Ingress-контроллер корпоративного уровня (nginx-ingress)
- Автоматическое управление SSL-сертификатами (cert-manager)
- Поддержка автоматического обнаружения и настройки DNS
- Встроенная поддержка service mesh (опционально)

### 2.3 Хранение данных
Платформа должна обеспечивать:

- Встроенное решение для распределенного хранения данных (Rook/Ceph или аналог)
- Автоматическое управление дисками и томами
- Поддержку локального хранилища с репликацией
- Интеграцию с внешними системами хранения через CSI
- Автоматическое резервное копирование persistent volumes
- Снимки состояния (snapshots) для томов данных

## 3. Требования к безопасности

### 3.1 Аутентификация и авторизация
Система должна включать:

- Встроенную систему управления пользователями с веб-интерфейсом
- Интеграцию с корпоративными системами (LDAP, Active Directory, OIDC провайдеры)
- Гранулярное управление доступом на основе RBAC
- Поддержку множественных методов аутентификации
- Встроенный Dex или аналогичный OIDC-провайдер
- Автоматическое управление сертификатами для компонентов кластера

### 3.2 Защита и соответствие требованиям
Платформа должна обеспечивать:

- Автоматическое шифрование etcd
- Встроенные политики безопасности (OPA/Gatekeeper)
- Автоматическое сканирование образов на уязвимости (Trivy или аналог)
- Network Policies по умолчанию для изоляции namespace
- Поддержку Pod Security Standards
- Автоматическое обновление компонентов безопасности

### 3.3 Соответствие требованиям законодательства РФ
- Возможность полностью автономной работы без подключения к интернету
- Поддержка развертывания из локального registry
- Отсутствие телеметрии и передачи данных за пределы инфраструктуры
- Возможность интеграции с российскими криптографическими решениями
- Полная локализация интерфейса на русский язык

## 4. Мониторинг и наблюдаемость

### 4.1 Встроенная система мониторинга
Платформа должна включать преднастроенный стек мониторинга:

- Prometheus с автоматической конфигурацией для всех компонентов
- Grafana с готовыми дашбордами для всех уровней системы
- Автоматический сбор метрик с приложений
- Встроенные алерты с возможностью настройки маршрутизации
- Интеграция с внешними системами оповещения (email, Telegram, Slack)
- Долгосрочное хранение метрик (Thanos или VictoriaMetrics)

### 4.2 Логирование и трассировка
Требования к системе логирования:

- Встроенный стек для сбора и хранения логов (Loki или EFK)
- Автоматический сбор логов со всех компонентов и приложений
- Веб-интерфейс для поиска и анализа логов
- Настраиваемые политики хранения и ротации
- Поддержка distributed tracing (опционально)

## 5. Автоматизация и управление

### 5.1 Управление конфигурацией
Платформа должна предоставлять:

- Декларативное управление всеми настройками через единый конфигурационный файл
- Версионирование конфигурации и возможность отката
- Автоматическое применение изменений без простоев
- Валидацию конфигурации перед применением
- Поддержку environments (dev, staging, production)

### 5.2 Обновления и обслуживание
Требования к процессу обновления:

- Автоматические обновления платформы по расписанию
- Возможность настройки окон обслуживания
- Автоматическое обновление операционной системы узлов
- Канальная модель обновлений (Stable, Early Access, Alpha)
- Возможность отката обновлений
- Предварительное тестирование обновлений

## 6. Требования к поставщику

### 6.1 Лицензирование и поддержка
Поставщик должен предоставить:

- Подписку Enterprise Edition сроком не менее 3 лет
- Техническую поддержку 24x7 с гарантированным SLA
- Доступ к закрытым исходным кодам (при необходимости)
- Регулярные обновления и патчи безопасности
- Выделенного технического менеджера
- Поддержку на русском языке

### 6.2 Профессиональные услуги
В рамках внедрения должны быть включены:

- Архитектурный дизайн решения под требования заказчика
- Установка и настройка платформы "под ключ"
- Миграция существующих workloads
- Обучение команды (администраторы и разработчики)
- Разработка runbook и процедур эксплуатации
- Сопровождение на начальном этапе эксплуатации (3 месяца)

## 7. Специфические возможности

### 7.1 Управление узлами
Платформа должна обеспечивать:

- Автоматическую установку и настройку ОС на узлах
- Поддержку различных ОС (Ubuntu, CentOS, Debian, Astra Linux)
- Автоматическое обновление ядра и системных пакетов
- Управление конфигурацией узлов через платформу
- Автоматическое выведение узлов из эксплуатации при обслуживании

### 7.2 Мультитенантность
Требования к изоляции окружений:

- Поддержка логического разделения кластера на проекты
- Квотирование ресурсов на уровне проектов
- Изоляция сетевого трафика между проектами
- Раздельное управление доступом для разных команд
- Возможность выделения dedicated узлов для критичных нагрузок

## 8. Требования к демонстрации

### 8.1 Proof of Concept
Поставщик должен продемонстрировать:

- Развертывание платформы с нуля за одну демонстрационную сессию
- Автоматическое добавление новых узлов в кластер
- Развертывание тестового приложения с мониторингом
- Процесс обновления платформы без простоев
- Восстановление после сбоя control plane
- Работу автомасштабирования под нагрузкой

### 8.2 Пилотный проект
Условия проведения пилота:

- Предоставление лицензий на период пилота (90 дней)
- Развертывание на инфраструктуре заказчика
- Миграция 2-3 реальных приложений
- Обучение ключевых сотрудников
- Оценка соответствия заявленным характеристикам

Данные требования ориентированы на возможности современных enterprise-платформ управления Kubernetes и должны обеспечить выбор решения, способного значительно упростить эксплуатацию и снизить требования к квалификации персонала при работе с Kubernetes.