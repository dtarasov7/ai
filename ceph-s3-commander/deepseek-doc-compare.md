## Описание функционала S3 Commander v1.9.0

**S3 Commander** - это двухпанельный TUI-файловый менеджер для работы с S3/Ceph хранилищами и локальной файловой системой, написанный на Python с использованием библиотеки urwid.

### Основные возможности:

#### 1. **Навигация и интерфейс**
- Двухпанельный интерфейс в стиле Midnight Commander
- Поддержка нескольких S3 эндпоинтов (Ceph, MinIO, AWS S3)
- Работа с локальной файловой системой
- Встроенный просмотрщик файлов (текстовые и бинарные в HEX)
- Превью-режим (Quick View, Ctrl+V)

#### 2. **Управление файлами и объектами**
- **Копирование/перемещение** (F5/F6):
  - FS ↔ FS
  - FS ↔ S3
  - S3 ↔ S3
  - Поддержка целых директорий и бакетов
- **Удаление** (F8):
  - Файлов, папок, бакетов
  - Множественный выбор
- **Создание директорий/бакетов** (F7)
- **Переименование** через диалог копирования

#### 3. **Расширенные возможности S3**
- **Версионирование объектов**:
  - Просмотр всех версий файла (F3 на файле с версиями)
  - Удаление старых версий (F9)
  - Включение/отключение версионирования бакетов (F11)
- **Информация об объектах** (F4):
  - Детальная мета-информация
  - ACL, теги, шифрование
  - Presigned URLs
- **Фильтрация** (/):
  - Режим реального времени
  - Поддержка glob-паттернов

#### 4. **Безопасность и конфигурация**
- Три режима хранения конфигурации:
  1. **Plaintext JSON** (обычный файл)
  2. **Encrypted config** (шифрование через cryptography)
  3. **HashiCorp Vault** (удаленное хранение)
- Поддержка кастомных CA-сертификатов
- Проверка доступности эндпоинтов перед подключением

#### 5. **Удобные функции**
- **Закладки** (Ctrl+B - добавить, Alt+B - просмотр):
  - Сохранение путей FS и S3
  - Управление через диалог
- **Сортировка** (F2):
  - По имени, расширению, размеру, времени
  - Обратный порядок
- **Выделение файлов**:
  - По шаблону (+/-)
  - Инверсия выделения (*)
  - Ручное выделение (Insert/Space)
- **Подсчет размера** (Ctrl+S или Enter на папке)
- **Пакетные операции** с прогресс-баром

#### 6. **Технические особенности**
- Ленивая загрузка больших каталогов S3
- Кэширование списков объектов
- Работа в потоке для длительных операций
- Автоматическое определение бинарных файлов
- Поддержка Windows/Linux (с heartbeat для Windows)

### Сравнение с CLI утилитами:

#### **S3 Commander vs s3cmd:**

| Функция | S3 Commander | s3cmd |
|---------|-------------|-------|
| **Интерфейс** | TUI, двухпанельный | CLI, командная строка |
| **Интерактивность** | Полная, с диалогами | Пакетный режим |
| **Навигация** | Визуальная, как в MC | Пути в командах |
| **Просмотр файлов** | Встроенный просмотрщик | Только скачивание |
| **Версионирование** | Полная поддержка в UI | Частичная (`s3cmd restore`) |
| **Метаданные** | Детальный просмотр (F4) | Команда `info` |
| **Копирование между FS/S3** | Прямо в интерфейсе | Отдельные команды put/get |
| **Пакетные операции** | С прогресс-баром и отменой | Без визуальной обратной связи |
| **Конфигурация** | Множественные эндпоинты, Vault | Один профиль в файле |
| **Фильтрация** | Реал-тайм фильтр в списке | Только через shell glob |

#### **S3 Commander vs AWS CLI v1:**

| Функция | S3 Commander | AWS CLI v1 |
|---------|-------------|-----------|
| **Простота навигации** | Файловый менеджер | Команды с полными путями |
| **Мультиэндпоинт** | Несколько бэкендов одновременно | Один регион/профиль за раз |
| **Визуальный прогресс** | Графический прогресс-бар | Текстовый вывод |
| **Работа с версиями** | Диалоги выбора версий | Команды с `--version-id` |
| **Локальная интеграция** | Прямое копирование FS↔S3 | Отдельные команды sync/cp |
| **Контекстные действия** | Меню по F-клавишам | Запоминание команд |
| **Безопасность** | Шифрование/Vault опционально | IAM роли/сессии |
| **Просмотр объектов** | Без скачивания (бинарный/текст) | Только скачивание |
| **Выделение множества** | Визуальное выделение | Shell-паттерны |
| **Работа офлайн** | Закладки, история навигации | Требует подключения |

### **Преимущества S3 Commander:**

1. **Для администраторов Ceph/S3**:
   - Быстрая навигация по сотням бакетов
   - Визуальное управление версиями
   - Проверка метаданных без скачивания
   - Работа с несколькими кластерами одновременно

2. **Для разработчиков**:
   - Простое копирование данных между окружениями
   - Быстрый просмотр контента объектов
   - Тестирование конфигураций S3

3. **Для пользователей MC/FAR**:
   - Знакомый двухпанельный интерфейс
   - Горячие клавиши как в классических менеджерах
   - Меньше команд для запоминания

### **Ограничения по сравнению с CLI:**

1. **Нет**:
   - Сложных политик (Lifecycle, CORS через UI)
   - Репликации между бакетами
   - Шифрования на лету
   - Кастомных метаданных при загрузке

2. **Меньше автоматизации**:
   - Нет скриптования операций
   - Нет интеграции с CI/CD
   - Ручной ввод для массовых операций

### **Идеальные сценарии использования:**

1. **Интерактивное управление** - когда нужно "посмотреть и сделать"
2. **Администрирование Ceph** - множественные эндпоинты, проверка состояния
3. **Миграция данных** - визуальное копирование между источниками
4. **Отладка проблем** - просмотр метаданных и версий
5. **Обучение S3** - наглядный интерфейс для новых пользователей

### **Заключение:**

**S3 Commander** заполняет нишу между мощными, но сложными CLI утилитами и веб-интерфейсами вроде MinIO Console. Это "швейцарский нож" для администраторов S3/Ceph, который сочетает скорость командной строки с удобством графического интерфейса для повседневных операций с объектным хранилищем.
