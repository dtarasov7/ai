При работе хоста (узла) в составе кластера Kubernetes используются следующие основные каталоги:

## Основные каталоги Kubernetes на узле

### Критически важные каталоги:

1. **`/var/lib/kubelet`** - основной рабочий каталог kubelet
   - Хранит конфигурацию подов
   - Сертификаты и ключи
   - Информацию о состоянии подов
   - Точки монтирования volumes

2. **`/var/lib/docker`** или **`/var/lib/containerd`** - хранилище контейнерного runtime
   - Образы контейнеров
   - Слои файловой системы
   - Метаданные контейнеров
   - Временные файлы контейнеров

3. **`/var/log`** - логи системы и контейнеров
   - Логи kubelet
   - Логи контейнеров
   - Системные логи

4. **`/etc/kubernetes`** - конфигурационные файлы
   - Манифесты статических подов (для master-узлов)
   - Конфигурация kubelet
   - PKI сертификаты

5. **`/var/lib/etcd`** - база данных etcd (только для master-узлов)
   - Хранит всё состояние кластера

## Рекомендации по выделению отдельных томов

### Обязательно выделить на отдельные разделы:

1. **`/var/lib/docker` или `/var/lib/containerd`** (15-50+ GB)
   - Защита от переполнения образами
   - Изоляция I/O операций
   - Рекомендуется использовать SSD

2. **`/var/lib/kubelet`** (10-20+ GB)
   - Защита от переполнения при создании volumes
   - Изоляция временных файлов подов

3. **`/var/log`** (5-10+ GB)
   - Предотвращение переполнения логами
   - Упрощение ротации и архивирования

4. **`/var/lib/etcd`** (10-20+ GB, только для master)
   - Критически важные данные кластера
   - Требует высокопроизводительный SSD
   - Рекомендуется отдельный диск с низкой латентностью

### Дополнительные рекомендации:

5. **`/tmp`** (2-5 GB)
   - Изоляция временных файлов
   - Можно монтировать как tmpfs

6. **`/var/lib/kubelet/pods/<pod-id>/volumes`**
   - Если используются большие persistent volumes
   - Можно вынести на отдельное хранилище

### Пример разбиения дисков:

```
/                    - 20-30 GB (корневая ФС)
/var/lib/docker      - 50-100 GB (SSD)
/var/lib/kubelet     - 20-30 GB (SSD)
/var/log             - 10-20 GB
/var/lib/etcd        - 20-30 GB (SSD, для master)
/tmp                 - 5 GB (tmpfs)
```

### Дополнительные меры защиты:

1. **Настройка kubelet eviction thresholds**:
   ```yaml
   evictionHard:
     memory.available: "100Mi"
     nodefs.available: "10%"
     imagefs.available: "15%"
   ```

2. **Настройка квот и лимитов** для namespace'ов и подов

3. **Мониторинг использования дискового пространства** через Prometheus + AlertManager

4. **Регулярная очистка**:
   - Неиспользуемых образов (`docker system prune`)
   - Старых логов
   - Orphaned volumes

Такое разделение обеспечит стабильную работу узла и защитит критические компоненты от сбоев из-за нехватки дискового пространства.
