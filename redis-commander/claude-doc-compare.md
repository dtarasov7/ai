# Redis Commander TUI - Описание функционала

## Текущий функционал

### 🔌 Подключения
- **Множественные профили подключений** из JSON-конфига
- **Поддержка Redis Cluster** и standalone режимов
- **3 режима конфигурации**:
  1. Обычный JSON файл
  2. Зашифрованный файл (с паролем)
  3. HashiCorp Vault интеграция
- **SSL/TLS** поддержка
- **Unix socket** подключения
- **Аутентификация** (username/password)
- **Read-only** режим

### 🗂️ Управление базами данных
- Переключение между DB0-DB15 (standalone)
- Автоматический подсчет ключей в каждой БД
- Визуальная индикация текущей БД

### 🔑 Работа с ключами
- **Просмотр списка ключей** с типами (String, Hash, List, Set, ZSet, Stream, Bitmap)
- **Виртуализированный список** с поддержкой до 5000 ключей
- **Фильтрация** по wildcard паттернам (`*`, `?`)
- **Массовая разметка** ключей (пробел для переключения)
- **Массовое удаление** отмеченных ключей
- **Детальный просмотр**:
  - Тип, TTL, размер/длина
  - Для кластера: hash slot, узел расположения
  - Содержимое в зависимости от типа

### ✏️ Редактирование ключей
- **Добавление новых ключей** всех типов
- **Редактирование существующих** с изменением типа
- **Установка TTL**
- **Многострочный редактор** для больших значений
- **Удаление** отдельных ключей
- **Подтверждение** при потере несохраненных данных

### 💻 Консольный режим
- **Полноценная Redis консоль** внутри TUI
- **История команд** (навигация Page Up/Down, Ctrl+P/N)
- **Персистентная история** (~/.redis_commander_history)
- **Автокомплит** распространенных команд
- **Форматированный вывод** результатов
- **Поддержка кластерных команд**:
  - CLUSTER INFO, CLUSTER NODES
  - Агрегация KEYS, SCAN по всем мастер-нодам
  - Обработка CROSSSLOT/MOVED ошибок

### 🎨 Интерфейс
- **Двухпанельный дизайн** в стиле Redis Commander
- **Древовидная навигация** (серверы → базы данных → ключи)
- **Scrollbar индикаторы** для всех панелей
- **Цветовая схема** с темной темой
- **Табы** с индикацией подключения
- **Статус-бар** с контекстными сообщениями
- **Горячие клавиши** для всех операций

### 🔐 Безопасность
- **Audit log** всех операций
- **Шифрование конфигов** (PBKDF2 + Fernet)
- **Vault интеграция** для секретов
- **Read-only режим** защиты

---

## Сравнение с redis-cli

### ✅ Преимущества TUI

| Аспект | Redis Commander TUI | redis-cli |
|--------|---------------------|-----------|
| **Навигация** | 🟢 Визуальное дерево серверов/БД/ключей | 🔴 Вручную SELECT db, запоминание |
| **Просмотр ключей** | 🟢 Список с типами, фильтрация, скроллинг | 🔴 KEYS * (блокирует), неудобный вывод |
| **Детали ключа** | 🟢 Все в одном окне (тип, TTL, содержимое) | 🔴 Несколько команд: TYPE, TTL, GET/HGETALL |
| **Редактирование** | 🟢 Формы с валидацией и подсказками | 🔴 Сырые команды, легко ошибиться |
| **Массовые операции** | 🟢 Разметка + удаление одной кнопкой | 🔴 Скрипты/xargs/lua |
| **Множественные серверы** | 🟢 Профили, быстрое переключение | 🔴 Ручной reconnect |
| **Кластер** | 🟢 Прозрачная работа, агрегация данных | 🔴 Выбор нужной ноды, -c флаг |
| **История** | 🟢 Персистентная + навигация | 🟢 Есть, но без навигации |
| **Безопасность** | 🟢 Vault, шифрованные конфиги, audit | 🔴 Пароли в истории shell |
| **Обучение** | 🟢 Интуитивный GUI | 🔴 Знание команд обязательно |

### ❌ Недостатки TUI

| Аспект | Redis Commander TUI | redis-cli |
|--------|---------------------|-----------|
| **Автоматизация** | 🔴 Нет pipe/скриптов | 🟢 Легко в shell-скриптах |
| **Производительность** | 🔴 Лимит 5000 ключей для UI | 🟢 Unlimited (но блокирует сервер) |
| **Сложные запросы** | 🔴 Только базовые типы | 🟢 Все команды Redis |
| **Мониторинг** | 🔴 Нет MONITOR режима | 🟢 `redis-cli --stat`, `MONITOR` |
| **Бинарные данные** | 🔴 Ограниченная поддержка | 🟢 `--raw` режим |
| **Latency** | 🔴 TUI overhead | 🟢 Минимальный |
| **Remote работа** | 🔴 Требует интерактивную сессию | 🟢 Работает через SSH forwarding |

---

## 🎯 Сценарии использования

### Когда TUI лучше:
1. **Исследование данных** - быстрый просмотр структуры БД
2. **Разработка/дебаг** - проверка содержимого ключей
3. **Обучение Redis** - визуальная обратная связь
4. **Управление кластером** - единый интерфейс для всех нод
5. **Массовая чистка** - разметить старые ключи и удалить
6. **Работа с несколькими серверами** - профили вместо многих терминалов

### Когда redis-cli лучше:
1. **Автоматизация** - CI/CD, cron-задачи
2. **Быстрые команды** - `redis-cli GET key` в одну строку
3. **Большие объемы** - экспорт всей БД, массовые операции
4. **Мониторинг** - `redis-cli --stat`, подписки на каналы
5. **Специфичные команды** - DEBUG, CONFIG, MODULE
6. **Headless окружения** - где нет curses/urwid

---

## 📊 Вывод

**Redis Commander TUI** - это **"GUI для повседневной работы"**, который в 10 раз удобнее для:
- Просмотра и изучения данных
- Редактирования отдельных ключей
- Работы с кластерами
- Переключения между серверами/БД

**redis-cli** остается незаменимым для:
- Автоматизации и скриптинга
- Специфичных команд (DEBUG, CONFIG)
- Производственных задач (бэкапы, миграции)

**Идеальная комбинация**: TUI для development/staging, redis-cli для production automation.
