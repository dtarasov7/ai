Есть кластер redis v7 OSS. В кластере 6 серверов разнесеных по трем ЦОД.
Соответсвенно на серверах поднято 3 master узла и 3 slave узла.
Для целей катстрофоустойчивости master узлы разнесены по серверам в разных ЦОД, 
а slave узлы находятся на серверах в других ЦОД относительно соотвествующих master узлов.
Если остановить один master, то его роль перейдет к соответствующему slave и кластер продолжит работу. 
Но при этом на серверах в одном ЦОД окажется два мастера. При подъеме остановленого мастера он становиться slave'ом
и проблема с двуми master в одном ЦОД сохраняется.
Задаче настроить мониторинг таких ситуций с использованием zabbix сервера v6.4 и zabbix агентов v1 установленых на серверах кластера.
Принадлежность того или иного сервера к тому или иному ЦОД прописано в текстовом файле ( в одном файле информация по всем серверам).
Формат файла:
10.0.1.10 DC1
10.0.1.11 DC1
10.0.2.10 DC2
10.0.2.11 DC2
10.0.3.10 DC3
10.0.3.11 DC3
Одинаковые копии файла есть на каждом сервере кластера.
Кластер redis настроен на работу c tls. 
В redis включен ACL, поэтому будет создан пользователь. Необходимо указать , какие права должны быть у этого пользователя
Подключение с помощью redis-cli через формат - rediss://

Подготовь шаблон для zabbix в формате yml и скрипты для zabbix agent на bash.
Шаблон будет применен ко всем серверам кластера.

Надо чтобы при срабатыванни тригера, также была информация какая пара master-slave 
является причиной и команда redis-cli для ручного переключения master-slave.



